

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5.1.19.1. TCGen: Basic Use Case &mdash; METplus 3.1 documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://dtcenter.github.io/METplus/latest/generated/met_tool_wrapper/TCGen/TCGen.html"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/theme_override.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/gallery.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/gallery-binder.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/gallery-dataframe.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="METplus 3.1 documentation" href="../../../index.html"/>
        <link rel="up" title="5.1. MET tools" href="../index.html"/>
        <link rel="next" title="5.1.20.1. TCMPRPlotter: Basic Use Case" href="../TCMPRPlotter/TCMPRPlotter.html"/>
        <link rel="prev" title="5.1.18.2. StatAnalysis: Using Python Embedding" href="../StatAnalysis/StatAnalysis_python_embedding.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> METplus
          

          
            
            <img src="../../../_static/METplus_logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                
                  3.1
                
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">METplus Wrappers Guides</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../Users_Guide/index.html">User’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/overview.html">1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/installation.html">2. Software Installation/Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/systemconfiguration.html">3. System Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/wrappers.html">4. Python Wrappers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../Users_Guide/usecases.html">5. METplus Use Cases</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">5.1. MET tools</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../index.html#ascii2nc">5.1.1. ASCII2NC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#cyclone-plotter">5.1.2. Cyclone Plotter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#ensemblestat">5.1.3. EnsembleStat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#example">5.1.4. Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#gempaktocf">5.1.5. GempakToCF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#genvxmask">5.1.6. GenVxMask</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#griddiag">5.1.7. GridDiag</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#gridstat">5.1.8. GridStat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#mode">5.1.9. MODE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#mtd">5.1.10. MTD</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#pb2nc">5.1.11. PB2NC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#pcpcombine">5.1.12. PCPCombine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#point2grid">5.1.13. Point2Grid</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#pointstat">5.1.14. PointStat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#pyembedingest">5.1.15. PyEmbedIngest</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#regriddataplane">5.1.16. RegridDataPlane</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#seriesanalysis">5.1.17. SeriesAnalysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#statanalysis">5.1.18. StatAnalysis</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../index.html#tcgen">5.1.19. TCGen</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#tcmprplotter">5.1.20. TCMPRPlotter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#tcpairs">5.1.21. TCPairs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#tcrmw">5.1.22. TCRMW</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#tcstat">5.1.23. TCStat</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../model_applications/index.html">5.2. Model Applications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/references.html">6. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/quicksearch.html">7. METplus Quick Search for Use Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/glossary.html">8. METplus Configuration Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../Contributors_Guide/index.html">Contributor’s Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">METplus</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../Users_Guide/index.html">User’s Guide</a> &raquo;</li>
        
          <li><a href="../../../Users_Guide/usecases.html"><span class="section-number">5. </span>METplus Use Cases</a> &raquo;</li>
        
          <li><a href="../index.html"><span class="section-number">5.1. </span>MET tools</a> &raquo;</li>
        
      <li><span class="section-number">5.1.19.1. </span>TCGen: Basic Use Case</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/generated/met_tool_wrapper/TCGen/TCGen.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<div class="sphx-glr-example-title section" id="tcgen-basic-use-case">
<span id="sphx-glr-generated-met-tool-wrapper-tcgen-tcgen-py"></span><h1><span class="section-number">5.1.19.1. </span>TCGen: Basic Use Case<a class="headerlink" href="#tcgen-basic-use-case" title="Permalink to this headline">¶</a></h1>
<p>met_tool_wrapper/TCGen/TCGen.conf</p>
<div class="section" id="scientific-objective">
<h2>Scientific Objective<a class="headerlink" href="#scientific-objective" title="Permalink to this headline">¶</a></h2>
<p>The TC-Gen tool provides verification of tropical cyclone genesis forecasts in ATCF file format.</p>
</div>
<div class="section" id="datasets">
<h2>Datasets<a class="headerlink" href="#datasets" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line"><strong>Track:</strong> A Deck or B Deck (Best)</div>
<div class="line"><strong>Genesis:</strong> Genesis Forecast</div>
</div>
<div class="line-block">
<div class="line"><strong>Location:</strong> All of the input data required for this use case can be found in the met_tool_wrapper sample data tarball. Click here to the METplus releases page and download sample data for the appropriate release: <a class="reference external" href="https://github.com/dtcenter/METplus/releases">https://github.com/dtcenter/METplus/releases</a></div>
<div class="line">The tarball should be unpacked into the directory that you will set the value of INPUT_BASE. See ‘Running METplus’ section for more information.</div>
</div>
</div>
<div class="section" id="metplus-components">
<h2>METplus Components<a class="headerlink" href="#metplus-components" title="Permalink to this headline">¶</a></h2>
<p>This use case utilizes the METplus TCGen wrapper to search for
files that match wildcard expressions and generate a command to run
the MET tool tc_gen.</p>
</div>
<div class="section" id="metplus-workflow">
<h2>METplus Workflow<a class="headerlink" href="#metplus-workflow" title="Permalink to this headline">¶</a></h2>
<p>TCGen is the only tool called in this example. It processes the following
run times:</p>
<div class="line-block">
<div class="line"><strong>Init:</strong> 2016</div>
</div>
</div>
<div class="section" id="metplus-configuration">
<h2>METplus Configuration<a class="headerlink" href="#metplus-configuration" title="Permalink to this headline">¶</a></h2>
<p>METplus first loads all of the configuration files found in parm/metplus_config,
then it loads any configuration files passed to METplus via the command line
with the -c option, i.e. -c /path/to/TCGen.conf</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">#</span>
<span class="c1">#  CONFIGURATION</span>
<span class="c1">#</span>
<span class="o">[</span>config<span class="o">]</span>

<span class="c1"># Looping by times: steps through each &#39;task&#39; in the PROCESS_LIST for each</span>
<span class="c1"># defined time, and repeats until all times have been evaluated.</span>
<span class="nv">LOOP_ORDER</span> <span class="o">=</span> processes

<span class="c1"># &#39;Tasks&#39; to be run</span>
<span class="nv">PROCESS_LIST</span> <span class="o">=</span> TCGen

<span class="nv">LOOP_BY</span> <span class="o">=</span> INIT

<span class="c1"># The init time begin and end times, increment, and last init hour.</span>
<span class="nv">INIT_TIME_FMT</span> <span class="o">=</span> %Y
<span class="nv">INIT_BEG</span> <span class="o">=</span> <span class="m">2016</span>
<span class="nv">INIT_END</span> <span class="o">=</span> <span class="m">2016</span>

<span class="c1"># This is the step-size. Increment in seconds from the begin time to the end time</span>
<span class="c1"># set to 6 hours = 21600 seconds</span>
<span class="nv">INIT_INCREMENT</span> <span class="o">=</span> <span class="m">21600</span>

<span class="nv">LOG_TC_GEN_VERBOSITY</span> <span class="o">=</span> <span class="m">2</span>

<span class="c1"># optional list of strings to loop over and call the tool multiple times</span>
<span class="c1"># value of each item can be referenced in filename templates with {custom?fmt=%s}</span>
<span class="nv">TC_GEN_CUSTOM_LOOP_LIST</span> <span class="o">=</span>

<span class="nv">TC_GEN_CONFIG_FILE</span> <span class="o">=</span> <span class="o">{</span>CONFIG_DIR<span class="o">}</span>/TCGenConfig_wrapped

<span class="c1"># The following variables set values in the MET configuration file used by this example</span>
<span class="c1"># Leaving these values commented will use the value found in the default MET configuration file</span>
<span class="c1"># See the MET documentation for this tool for more information on the settings</span>

<span class="c1"># sets init_freq in the MET configuration file - must be an integer value</span>
<span class="nv">TC_GEN_INIT_FREQUENCY</span> <span class="o">=</span> <span class="m">6</span>

<span class="c1"># sets lead_window { beg } in the MET configuration file - must be an integer value</span>
<span class="nv">TC_GEN_LEAD_WINDOW_BEGIN</span> <span class="o">=</span> <span class="m">24</span>

<span class="c1"># sets lead_window { end } in the MET configuration file - must be an integer value</span>
<span class="nv">TC_GEN_LEAD_WINDOW_END</span> <span class="o">=</span> <span class="m">120</span>

<span class="c1"># sets min_duration in the MET configuration file - must be an integer value</span>
<span class="nv">TC_GEN_MIN_DURATION</span> <span class="o">=</span> <span class="m">12</span>

<span class="c1"># sets fcst_genesis { vmax_thresh } in the MET configuration file - must be a valid threshold value (i.e. gt4) or NA</span>
<span class="nv">TC_GEN_FCST_GENESIS_VMAX_THRESH</span> <span class="o">=</span> NA

<span class="c1"># sets fcst_genesis { mslp_thresh} in the MET configuration file - must be a valid threshold value (i.e. gt4) or NA</span>
<span class="nv">TC_GEN_FCST_GENESIS_MSLP_THRESH</span> <span class="o">=</span> NA


<span class="c1"># sets best_genesis { technique } in the MET configuration file</span>
<span class="nv">TC_GEN_BEST_GENESIS_TECHNIQUE</span> <span class="o">=</span> BEST

<span class="c1"># sets best_genesis { category } in the MET configuration file - can be a list of items</span>
<span class="nv">TC_GEN_BEST_GENESIS_CATEGORY</span> <span class="o">=</span> TD, TS

<span class="c1"># sets best_genesis { vmax_thresh } in the MET configuration file - must be a valid threshold value (i.e. gt4) or NA</span>
<span class="nv">TC_GEN_BEST_GENESIS_VMAX_THRESH</span> <span class="o">=</span> NA

<span class="c1"># sets best_genesis { mslp_thresh} in the MET configuration file - must be a valid threshold value (i.e. gt4) or NA</span>
<span class="nv">TC_GEN_BEST_GENESIS_MSLP_THRESH</span> <span class="o">=</span> NA


<span class="c1"># sets oper_genesis { technique } in the MET configuration file</span>
<span class="nv">TC_GEN_OPER_GENESIS_TECHNIQUE</span> <span class="o">=</span> CARQ

<span class="c1"># sets oper_genesis { category } in the MET configuration file - can be a list of items</span>
<span class="nv">TC_GEN_OPER_GENESIS_CATEGORY</span> <span class="o">=</span> DB, LO, WV

<span class="c1"># sets oper_genesis { vmax_thresh } in the MET configuration file - must be a valid threshold value (i.e. gt4) or NA</span>
<span class="nv">TC_GEN_OPER_GENESIS_VMAX_THRESH</span> <span class="o">=</span> NA

<span class="c1"># sets oper_genesis { mslp_thresh} in the MET configuration file - must be a valid threshold value (i.e. gt4) or NA</span>
<span class="nv">TC_GEN_OPER_GENESIS_MSLP_THRESH</span> <span class="o">=</span> NA


<span class="c1"># TC_GEN_FILTER_&lt;n&gt; sets filter items in the MET configuration file</span>
<span class="c1"># quotation marks within quotation marks must be preceeded with \</span>
<span class="nv">TC_GEN_FILTER_1</span> <span class="o">=</span> <span class="nv">desc</span> <span class="o">=</span> <span class="s2">&quot;AL_BASIN&quot;</span><span class="p">;</span> <span class="nv">vx_mask</span> <span class="o">=</span> <span class="s2">&quot;MET_BASE/tc_data/basin_global_tenth_degree.nc { name=\&quot;basin\&quot;; level=\&quot;(*,*)\&quot;; } ==1&quot;</span><span class="p">;</span>
<span class="nv">TC_GEN_FILTER_2</span> <span class="o">=</span> <span class="nv">desc</span> <span class="o">=</span> <span class="s2">&quot;AL_DLAND_300&quot;</span><span class="p">;</span> <span class="nv">vx_mask</span> <span class="o">=</span> <span class="s2">&quot;MET_BASE/tc_data/basin_global_tenth_degree.nc { name=\&quot;basin\&quot;; level=\&quot;(*,*)\&quot;; } ==1&quot;</span><span class="p">;</span> <span class="nv">dland_thresh</span> <span class="o">=</span> &gt;0<span class="o">&amp;&amp;</span>&lt;<span class="m">300</span><span class="p">;</span>
<span class="nv">TC_GEN_FILTER_3</span> <span class="o">=</span> <span class="nv">desc</span> <span class="o">=</span> <span class="s2">&quot;EP_CP_BASIN&quot;</span><span class="p">;</span> <span class="nv">vx_mask</span> <span class="o">=</span> <span class="s2">&quot;MET_BASE/tc_data/basin_global_tenth_degree.nc { name=\&quot;basin\&quot;; level=\&quot;(*,*)\&quot;;} ==2||==3&quot;</span><span class="p">;</span>
<span class="nv">TC_GEN_FILTER_4</span> <span class="o">=</span> <span class="nv">desc</span> <span class="o">=</span> <span class="s2">&quot;EP_BASIN&quot;</span><span class="p">;</span> <span class="nv">genesis_window</span> <span class="o">=</span> <span class="o">{</span> <span class="nv">beg</span> <span class="o">=</span> -3*24<span class="p">;</span> <span class="nv">end</span> <span class="o">=</span> <span class="m">3</span>*24<span class="p">;</span> <span class="o">}</span><span class="p">;</span> <span class="nv">genesis_radius</span> <span class="o">=</span> <span class="m">300</span><span class="p">;</span>
<span class="nv">TC_GEN_FILTER_5</span> <span class="o">=</span> <span class="nv">desc</span> <span class="o">=</span> <span class="s2">&quot;3DAY_300KM&quot;</span><span class="p">;</span> <span class="nv">genesis_window</span> <span class="o">=</span> <span class="o">{</span> <span class="nv">beg</span> <span class="o">=</span> -3*24<span class="p">;</span> <span class="nv">end</span> <span class="o">=</span> <span class="m">3</span>*24<span class="p">;</span> <span class="o">}</span><span class="p">;</span> <span class="nv">genesis_radius</span> <span class="o">=</span> <span class="m">300</span><span class="p">;</span>
<span class="nv">TC_GEN_FILTER_6</span> <span class="o">=</span> <span class="nv">desc</span> <span class="o">=</span> <span class="s2">&quot;3DAY_600KM&quot;</span><span class="p">;</span> <span class="nv">genesis_window</span> <span class="o">=</span> <span class="o">{</span> <span class="nv">beg</span> <span class="o">=</span> -3*24<span class="p">;</span> <span class="nv">end</span> <span class="o">=</span> <span class="m">3</span>*24<span class="p">;</span> <span class="o">}</span><span class="p">;</span> <span class="nv">genesis_radius</span> <span class="o">=</span> <span class="m">600</span><span class="p">;</span>
<span class="nv">TC_GEN_FILTER_7</span> <span class="o">=</span> <span class="nv">desc</span> <span class="o">=</span> <span class="s2">&quot;5DAY_300KM&quot;</span><span class="p">;</span> <span class="nv">genesis_window</span> <span class="o">=</span> <span class="o">{</span> <span class="nv">beg</span> <span class="o">=</span> -5*24<span class="p">;</span> <span class="nv">end</span> <span class="o">=</span> <span class="m">5</span>*24<span class="p">;</span> <span class="o">}</span><span class="p">;</span> <span class="nv">genesis_radius</span> <span class="o">=</span> <span class="m">300</span><span class="p">;</span>
<span class="nv">TC_GEN_FILTER_8</span> <span class="o">=</span> <span class="nv">desc</span> <span class="o">=</span> <span class="s2">&quot;5DAY_600KM&quot;</span><span class="p">;</span> <span class="nv">genesis_window</span> <span class="o">=</span> <span class="o">{</span> <span class="nv">beg</span> <span class="o">=</span> -5*24<span class="p">;</span> <span class="nv">end</span> <span class="o">=</span> <span class="m">5</span>*24<span class="p">;</span> <span class="o">}</span><span class="p">;</span> <span class="nv">genesis_radius</span> <span class="o">=</span> <span class="m">600</span><span class="p">;</span>

<span class="c1"># sets model in the MET configuration file - can be a list of items</span>
<span class="nv">MODEL</span> <span class="o">=</span>

<span class="c1"># sets storm_id in the MET configuration file - can be a list of items</span>
<span class="nv">TC_GEN_STORM_ID</span> <span class="o">=</span>

<span class="c1"># sets storm_name in the MET configuration file - can be a list of items</span>
<span class="nv">TC_GEN_STORM_NAME</span> <span class="o">=</span>


<span class="c1"># sets init_beg in the MET configuration file</span>
<span class="nv">TC_GEN_INIT_BEG</span> <span class="o">=</span>

<span class="c1"># sets init_end in the MET configuration file</span>
<span class="nv">TC_GEN_INIT_END</span> <span class="o">=</span>

<span class="c1"># sets valid_beg in the MET configuration file</span>
<span class="nv">TC_GEN_VALID_BEG</span> <span class="o">=</span>

<span class="c1"># sets valid_end in the MET configuration file</span>
<span class="nv">TC_GEN_VALID_END</span> <span class="o">=</span>

<span class="c1"># sets init_hour in the MET configuration file - can be a list of items</span>
<span class="nv">TC_GEN_INIT_HOUR_LIST</span> <span class="o">=</span>

<span class="c1"># forecast lead sequence - used in TCGen to set lead list in the MET configuration</span>
<span class="nv">LEAD_SEQ</span> <span class="o">=</span>


<span class="c1"># sets vx_mask in the MET configuration file</span>
<span class="nv">TC_GEN_VX_MASK</span> <span class="o">=</span>

<span class="c1"># sets genesis_window { beg } in the MET configuration file</span>
<span class="nv">TC_GEN_GENESIS_WINDOW_BEGIN</span> <span class="o">=</span> -24

<span class="c1"># sets genesis_window { beg } in the MET configuration file</span>
<span class="nv">TC_GEN_GENESIS_WINDOW_END</span> <span class="o">=</span> <span class="m">24</span>

<span class="c1"># sets genesis_radius in the MET configuration file</span>
<span class="nv">TC_GEN_GENESIS_RADIUS</span> <span class="o">=</span> <span class="m">300</span>

<span class="c1"># sets dland_file in the MET configuration file</span>
<span class="nv">TC_GEN_DLAND_FILE</span> <span class="o">=</span> MET_BASE/tc_data/dland_global_tenth_degree.nc

<span class="c1">#</span>
<span class="c1">#  DIRECTORIES</span>
<span class="c1">#</span>
<span class="o">[</span>dir<span class="o">]</span>

<span class="c1"># location of configuration files used by MET applications</span>
<span class="nv">CONFIG_DIR</span><span class="o">={</span>PARM_BASE<span class="o">}</span>/met_config

<span class="c1"># Location of input data directory for track data</span>
<span class="nv">TC_GEN_TRACK_INPUT_DIR</span> <span class="o">=</span> <span class="o">{</span>INPUT_BASE<span class="o">}</span>/met_test/tc_data/genesis/atcf

<span class="c1"># Location of input data directory for genesis data</span>
<span class="nv">TC_GEN_GENESIS_INPUT_DIR</span> <span class="o">=</span> <span class="o">{</span>INPUT_BASE<span class="o">}</span>/met_test/tc_data/genesis/suite1

<span class="c1"># directory to write output files generated by tc_gen</span>
<span class="nv">TC_GEN_OUTPUT_DIR</span> <span class="o">=</span> <span class="o">{</span>OUTPUT_BASE<span class="o">}</span>/met_tool_wrapper/TCGen

<span class="c1">#</span>
<span class="c1">#  FILENAME TEMPLATES</span>
<span class="c1">#</span>
<span class="o">[</span>filename_templates<span class="o">]</span>
<span class="c1"># Location of input track data relative to INPUT_DIR and specific to the current run time</span>
<span class="nv">TC_GEN_TRACK_INPUT_TEMPLATE</span> <span class="o">=</span> <span class="o">{</span>init?fmt<span class="o">=</span>%Y<span class="o">}</span>

<span class="c1"># Location of input genesis data relative to INPUT_DIR and specific to the current run time</span>
<span class="nv">TC_GEN_GENESIS_INPUT_TEMPLATE</span> <span class="o">=</span> <span class="o">{</span>init?fmt<span class="o">=</span>%Y<span class="o">}</span>*/genesis*<span class="o">{</span>init?fmt<span class="o">=</span>%Y<span class="o">}</span>*

<span class="c1"># Prefix to add to output files. Relative to OUTPUT_DIR and specific to the current run time</span>
<span class="nv">TC_GEN_OUTPUT_TEMPLATE</span> <span class="o">=</span> tc_gen_<span class="o">{</span>init?fmt<span class="o">=</span>%Y<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="met-configuration">
<h2>MET Configuration<a class="headerlink" href="#met-configuration" title="Permalink to this headline">¶</a></h2>
<p>METplus sets environment variables based on the values in the METplus configuration file.
These variables are referenced in the MET configuration file. <strong>YOU SHOULD NOT SET ANY OF THESE ENVIRONMENT VARIABLES YOURSELF! THEY WILL BE OVERWRITTEN BY METPLUS WHEN IT CALLS THE MET TOOLS!</strong> If there is a setting in the MET configuration file that is not controlled by an environment variable, you can add additional environment variables to be set only within the METplus environment using the [user_env_vars] section of the METplus configuration files. See the ‘User Defined Config’ section on the ‘System Configuration’ page of the METplus User’s Guide for more information.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>////////////////////////////////////////////////////////////////////////////////
//
// TC-Gen configuration file.
//
// For additional information, see the MET_BASE/config/README_TC file.
//
////////////////////////////////////////////////////////////////////////////////

//
// ATCF file format reference:
//   http://www.nrlmry.navy.mil/atcf_web/docs/database/new/abrdeck.html
//

////////////////////////////////////////////////////////////////////////////////
//
// Genesis event definition criteria.
//
////////////////////////////////////////////////////////////////////////////////

//
// Model initialization frequency in hours, starting at <span class="m">0</span>.
//
<span class="si">${</span><span class="nv">INIT_FREQ</span><span class="si">}</span>

//
// Lead <span class="nb">times</span> in hours to be searched <span class="k">for</span> genesis events.
//
<span class="si">${</span><span class="nv">LEAD_WINDOW_DICT</span><span class="si">}</span>

//
// Minimum track duration <span class="k">for</span> genesis event in hours.
//
<span class="si">${</span><span class="nv">MIN_DURATION</span><span class="si">}</span>

//
// Forecast genesis event criteria.  Defined as tracks reaching the specified
// intensity category, maximum wind speed threshold, and minimum sea-level
// pressure threshold.  The forecast genesis <span class="nb">time</span> is the valid <span class="nb">time</span> of the first
// track point where all of these criteria are met.
//
<span class="si">${</span><span class="nv">FCST_GENESIS_DICT</span><span class="si">}</span>

//
// BEST track genesis event criteria.  Defined as tracks reaching the specified
// intensity category, maximum wind speed threshold, and minimum sea-level
// pressure threshold.  The BEST track genesis <span class="nb">time</span> is the valid <span class="nb">time</span> of the
// first track point where all of these criteria are met.
//
<span class="si">${</span><span class="nv">BEST_GENESIS_DICT</span><span class="si">}</span>

//
// Operational track genesis event criteria.  Defined as tracks reaching the
// specified intensity category, maximum wind speed threshold, and minimum
// sea-level pressure threshold.  The operational track genesis <span class="nb">time</span> is valid
// <span class="nb">time</span> of the first track point where all of these criteria are met.
//
<span class="si">${</span><span class="nv">OPER_GENESIS_DICT</span><span class="si">}</span>

////////////////////////////////////////////////////////////////////////////////
//
// Track filtering options which may be specified separately in each filter
// array entry.
//
////////////////////////////////////////////////////////////////////////////////

//
// Filter is an array of dictionaries containing the track filtering options
// listed below.  If empty, a single filter is defined using the top-level
// settings.
//
<span class="si">${</span><span class="nv">FILTER</span><span class="si">}</span>

//
// Description written to output DESC column
//
//desc <span class="o">=</span> <span class="s2">&quot;NA&quot;</span><span class="p">;</span>

//
// Forecast ATCF ID<span class="s1">&#39;s</span>
<span class="s1">// If empty, all ATCF ID&#39;</span>s found will be processed.
// Statistics will be generated separately <span class="k">for</span> each ATCF ID.
//
<span class="si">${</span><span class="nv">MODEL</span><span class="si">}</span>

//
// BEST and operational track storm identifiers
//
<span class="si">${</span><span class="nv">STORM_ID</span><span class="si">}</span>

//
// BEST and operational track storm names
//
<span class="si">${</span><span class="nv">STORM_NAME</span><span class="si">}</span>

//
// Forecast and operational initialization <span class="nb">time</span> window
//

<span class="si">${</span><span class="nv">INIT_BEG</span><span class="si">}</span>
<span class="si">${</span><span class="nv">INIT_END</span><span class="si">}</span>

//
// Forecast, BEST, and operational valid <span class="nb">time</span> window
//

<span class="si">${</span><span class="nv">VALID_BEG</span><span class="si">}</span>
<span class="si">${</span><span class="nv">VALID_END</span><span class="si">}</span>

//
// Forecast and operational initialization hours
//
<span class="si">${</span><span class="nv">INIT_HOUR</span><span class="si">}</span>

//
// Forecast and operational lead <span class="nb">times</span> in hours
//
<span class="si">${</span><span class="nv">LEAD_LIST</span><span class="si">}</span>

//
// Spatial masking region <span class="o">(</span>path to gridded data file or polyline file<span class="o">)</span>
//
<span class="si">${</span><span class="nv">VX_MASK</span><span class="si">}</span>

//
// Distance to land threshold
//
//dland_thresh <span class="o">=</span> NA<span class="p">;</span>

//
// Genesis matching <span class="nb">time</span> window, in hours relative to the forecast genesis <span class="nb">time</span>
//
<span class="si">${</span><span class="nv">GENESIS_WINDOW_DICT</span><span class="si">}</span>

//
// Genesis matching search radius in km.
//
<span class="si">${</span><span class="nv">GENESIS_RADIUS</span><span class="si">}</span>

////////////////////////////////////////////////////////////////////////////////
//
// Global settings.
//
////////////////////////////////////////////////////////////////////////////////

//
// Confidence interval alpha value
//
//ci_alpha <span class="o">=</span> <span class="m">0</span>.05<span class="p">;</span>

//
// Statistical output types
//
//output_flag <span class="o">=</span> <span class="o">{</span>
//   <span class="nv">fho</span>    <span class="o">=</span> NONE<span class="p">;</span>
//   <span class="nv">ctc</span>    <span class="o">=</span> BOTH<span class="p">;</span>
//   <span class="nv">cts</span>    <span class="o">=</span> BOTH<span class="p">;</span>
//<span class="o">}</span>

//
// Specify the NetCDF output of the gen_dland tool containing a gridded
// representation of the minimum distance to land.
//
<span class="si">${</span><span class="nv">DLAND_FILE</span><span class="si">}</span>

//
// Indicate a version number <span class="k">for</span> the contents of this configuration file.
// The value should generally not be modified.
//
//version <span class="o">=</span> <span class="s2">&quot;V9.1&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>Note the following variables are referenced in the MET configuration file.</p>
<ul class="simple">
<li><p><strong>${INIT_FREQ}</strong> - Corresponds to TC_GEN_INIT_FREQUENCY in the METplus configuration file.</p></li>
<li><p><strong>${LEAD_WINDOW_DICT}</strong> - Corresponds to TC_GEN_LEAD_WINDOW_[BEGIN/END] in the METplus configuration file.</p></li>
<li><p><strong>${MIN_DURATION}</strong> - Corresponds to TC_GEN_MIN_DURATION in the METplus configuration file.</p></li>
<li><p><strong>${FCST_GENESIS_DICT}</strong> - Corresponds to TC_GEN_FCST_GENESIS_[VMAX_THRESH/MSLP_THRESH] in the METplus configuration file.</p></li>
<li><p><strong>${BEST_GENESIS_DICT}</strong> - Corresponds to TC_GEN_FCST_GENESIS_[TECHNIQUE/CATEGORY/VMAX_THRESH/MSLP_THRESH] in the METplus configuration file.</p></li>
<li><p><strong>${OPER_GENESIS_DICT}</strong> - Corresponds to TC_GEN_OPER_GENESIS_[TECHNIQUE/CATEGORY/VMAX_THRESH/MSLP_THRESH] in the METplus configuration file.</p></li>
<li><p><strong>${FILTER}</strong> - Corresponds to TC_GEN_FILTER_&lt;n&gt; in the METplus configuration file.</p></li>
<li><p><strong>${MODEL}</strong> - Corresponds to MODEL in the METplus configuration file.</p></li>
<li><p><strong>${STORM_ID}</strong> - Corresponds to TC_GEN_STORM_ID in the METplus configuration file.</p></li>
<li><p><strong>${STORM_NAME}</strong> - Corresponds to TC_GEN_STORM_NAME in the METplus configuration file.</p></li>
<li><p><strong>${INIT_BEG}</strong> -  Corresponds to TC_GEN_INIT_BEG in the METplus configuration file.</p></li>
<li><p><strong>${INIT_END</strong> - Corresponds to TC_GEN_INIT_END in the METplus configuration file.</p></li>
<li><p><strong>${VALID_BEG}</strong> -  Corresponds to TC_GEN_VALID_BEG in the METplus configuration file.</p></li>
<li><p><strong>${VALID_END</strong> - Corresponds to TC_GEN_VALID_END in the METplus configuration file.</p></li>
<li><p><strong>${INIT_HOUR_LIST}</strong> - Corresponds to TC_GEN_INIT_HOUR_LIST in the METplus configuration file.</p></li>
<li><p><strong>${LEAD_LIST}</strong> - Corresponds to LEAD_SEQ in the METplus configuration file.</p></li>
<li><p><strong>${GENESIS_WINDOW_DICT}</strong> - Corresponds to TC_GEN_GENESIS_WINDOW_[BEGIN/END] in the METplus configuration file.</p></li>
<li><p><strong>${GENESIS_RADIUS}</strong> - Corresponds to TC_GEN_GENESIS_RADIUS in the METplus configuration file.</p></li>
<li><p><strong>${DLAND_FILE}</strong> - Corresponds to TC_GEN_DLAND_FILE in the METplus configuration file.</p></li>
</ul>
</div>
<div class="section" id="running-metplus">
<h2>Running METplus<a class="headerlink" href="#running-metplus" title="Permalink to this headline">¶</a></h2>
<p>This use case can be run two ways:
1) Passing in TCGen.conf then a user-specific system configuration file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>master_metplus.py -c /path/to/METplus/parm/use_cases/met_tool_wrapper/TCGen/TCGen.conf -c /path/to/user_system.conf
</pre></div>
</div>
<ol class="arabic" start="2">
<li><p>Modifying the configurations in parm/metplus_config, then passing in TCGen.conf:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>master_metplus.py -c /path/to/METplus/parm/use_cases/met_tool_wrapper/TCGen/TCGen.conf
</pre></div>
</div>
</li>
</ol>
<p>The former method is recommended. Whether you add them to a user-specific configuration file or modify the metplus_config files, the following METplus configuration variables must be set correctly to run this example.:</p>
<ul class="simple">
<li><p><strong>INPUT_BASE</strong> - Path to directory where sample data tarballs are unpacked (See Datasets section to obtain tarballs).</p></li>
<li><p><strong>OUTPUT_BASE</strong> - Path where METplus output will be written. This must be in a location where you have write permissions</p></li>
<li><p><strong>MET_INSTALL_DIR</strong> - Path to location where MET is installed locally</p></li>
</ul>
<p>Example User Configuration File:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>dir<span class="o">]</span>
<span class="nv">INPUT_BASE</span> <span class="o">=</span> /path/to/sample/input/data
<span class="nv">OUTPUT_BASE</span> <span class="o">=</span> /path/to/output/dir
<span class="nv">MET_INSTALL_DIR</span> <span class="o">=</span> /path/to/met-X.Y
</pre></div>
</div>
<p><strong>NOTE:</strong> All of these items must be found under the [dir] section.</p>
</div>
<div class="section" id="expected-output">
<h2>Expected Output<a class="headerlink" href="#expected-output" title="Permalink to this headline">¶</a></h2>
<p>A successful run will output the following both to the screen and to the logfile:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>INFO: METplus has successfully finished running.
</pre></div>
</div>
<p>Refer to the value set for <strong>OUTPUT_BASE</strong> to find where the output data was generated.
Output for this use case will be found in met_tool_wrapper/TCGen
and will contain the following files:</p>
<ul class="simple">
<li><p>tc_gen_2016_ctc.txt</p></li>
<li><p>tc_gen_2016_cts.txt</p></li>
<li><p>tc_gen_2016.stat</p></li>
</ul>
</div>
<div class="section" id="keywords">
<h2>Keywords<a class="headerlink" href="#keywords" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference external" href="https://dtcenter.github.io/METplus/search.html?q=TCGenToolUseCase&amp;check_keywords=yes&amp;area=default">TCGenToolUseCase</a>,
<a class="reference external" href="https://dtcenter.github.io/METplus/search.html?q=DTCOrgUseCase&amp;check_keywords=yes&amp;area=default">DTCOrgUseCase</a>,</p>
</div>


<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-generated-met-tool-wrapper-tcgen-tcgen-py">
<div class="sphx-glr-download docutils container">

</div>
<div class="sphx-glr-download docutils container">

</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../TCMPRPlotter/TCMPRPlotter.html" class="btn btn-neutral float-right" title="5.1.20.1. TCMPRPlotter: Basic Use Case" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../StatAnalysis/StatAnalysis_python_embedding.html" class="btn btn-neutral" title="5.1.18.2. StatAnalysis: Using Python Embedding" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, UCAR/NCAR, NOAA, CSU/CIRA, and CU/CIRES.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
 
<script>var version_json_loc = "../../../../versions.json";</script>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script src="../../../_static/pop_ver.js"></script>
    

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>