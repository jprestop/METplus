

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5.2.8.3. Track and Intensity Plotter: Generate mean, median and box plots &mdash; METplus 3.1 documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://dtcenter.github.io/METplus/latest/generated/model_applications/tc_and_extra_tc/Plotter_fcstGFS_obsGFS_RPlotting.html"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/theme_override.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/gallery.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/gallery-binder.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/gallery-dataframe.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="METplus 3.1 documentation" href="../../../index.html"/>
        <link rel="up" title="5.2. Model Applications" href="../index.html"/>
        <link rel="next" title="6. References" href="../../../Users_Guide/references.html"/>
        <link rel="prev" title="5.2.8.2. TCRMW: Hurricane Gonzalo" href="TCRMW_fcstGFS_fcstOnly_gonzalo.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> METplus
          

          
            
            <img src="../../../_static/METplus_logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                
                  <div class="version-dropdown">
                    <select class="version-list" id="version-list">
                      <option value=''>3.1</option>
                      
                        
                          <option value="../latest">latest</option>
                        
                      
                        
                          <option value="../develop">develop</option>
                        
                      
                    </select>
                  </div>
                
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">METplus Wrappers Guides</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../Users_Guide/index.html">User’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/overview.html">1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/installation.html">2. Software Installation/Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/systemconfiguration.html">3. System Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/wrappers.html">4. Python Wrappers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../Users_Guide/usecases.html">5. METplus Use Cases</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../met_tool_wrapper/index.html">5.1. MET tools</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">5.2. Model Applications</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../index.html#climate">5.2.1. Climate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#convection-allowing-models">5.2.2. Convection Allowing Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#cryosphere">5.2.3. Cryosphere</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#medium-range">5.2.4. Medium Range</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#precipitation">5.2.5. Precipitation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#subseasonal-to-seasonal">5.2.6. Subseasonal to Seasonal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#space-weather">5.2.7. Space Weather</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../index.html#tropical-cyclone-and-extra-tropical-cyclone">5.2.8. Tropical Cyclone and Extra Tropical Cyclone</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/references.html">6. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/quicksearch.html">7. METplus Quick Search for Use Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/glossary.html">8. METplus Configuration Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Users_Guide/index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../Contributors_Guide/index.html">Contributor’s Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">METplus</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../Users_Guide/index.html">User’s Guide</a> &raquo;</li>
        
          <li><a href="../../../Users_Guide/usecases.html"><span class="section-number">5. </span>METplus Use Cases</a> &raquo;</li>
        
          <li><a href="../index.html"><span class="section-number">5.2. </span>Model Applications</a> &raquo;</li>
        
      <li><span class="section-number">5.2.8.3. </span>Track and Intensity Plotter: Generate mean, median and box plots</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/generated/model_applications/tc_and_extra_tc/Plotter_fcstGFS_obsGFS_RPlotting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-generated-model-applications-tc-and-extra-tc-plotter-fcstgfs-obsgfs-rplotting-py"><span class="std std-ref">here</span></a>     to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="track-and-intensity-plotter-generate-mean-median-and-box-plots">
<span id="sphx-glr-generated-model-applications-tc-and-extra-tc-plotter-fcstgfs-obsgfs-rplotting-py"></span><h1><span class="section-number">5.2.8.3. </span>Track and Intensity Plotter: Generate mean, median and box plots<a class="headerlink" href="#track-and-intensity-plotter-generate-mean-median-and-box-plots" title="Permalink to this headline">¶</a></h1>
<p>model_applications/tc_and_extra_tc/Plotter_fcstGFS
_obsGFS_RPlotting.conf</p>
<div class="section" id="scientific-objective">
<h2>Scientific Objective<a class="headerlink" href="#scientific-objective" title="Permalink to this headline">¶</a></h2>
<p>By maintaining focus of each evaluation time on a user-defined area around a cyclone,
the model statistical errors associated with cyclonic physical features (moisture
flux, stability, strength of upper-level PV anomaly and jet, etc.) can be related
directly to the model forecasts and provide improvement guidance by accurately
depicting interactions with significant weather features around and within the cyclone.
This is in contrast to the traditional method of regional averaging cyclone observations
in a fixed grid, which “smooths out” system features and limits the meaningful metrics
that can be gathered. This use case relays the mean and median of forecast lead
times for cyclone position compared to a reference dataset via boxplot.</p>
</div>
<div class="section" id="datasets">
<h2>Datasets<a class="headerlink" href="#datasets" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>Forecast dataset: ADeck ATCF tropical cyclone data</p></li>
<li><p>Observation dataset: BDeck ATCF tropical cyclone “best track” cyclone data</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="metplus-components">
<h2>METplus Components<a class="headerlink" href="#metplus-components" title="Permalink to this headline">¶</a></h2>
<p>This use case first runs TCPairs and then generates the requested
plot types for statistics of interest. The TCMPRPlotterConfig_customize configuration
file is used by the plot_tcmpr.R script to select things such as the size of
the plot window that appears on your screen, etc.</p>
</div>
<div class="section" id="metplus-workflow">
<h2>METplus Workflow<a class="headerlink" href="#metplus-workflow" title="Permalink to this headline">¶</a></h2>
<p>The following tools are used for each run time:</p>
<p>TCPairs &gt; plot_tcmpr.R</p>
<p>To generate TCPairs output, this example loops by initialization time for every 6 hour period that is available
in the data set for 20141214. The output is then used to generate the mean, median, and box plot for the following:
the difference between the MSLP of the Adeck and Bdeck tracks (AMSLP-BMSLP), the difference between the max wind of the Adeck and
Bdeck tracks (AMAX_WIND-BMSLP), and the track err (TK_ERR).</p>
</div>
<div class="section" id="metplus-configuration">
<h2>METplus Configuration<a class="headerlink" href="#metplus-configuration" title="Permalink to this headline">¶</a></h2>
<p>METplus first loads all of the configuration files found in parm/metplus_config,
then it loads any configuration files passed to METplus via the command line
with the -c option, i.e. -c parm/use_cases/model_applications/tc_and_extra_tc/Plotter_fcstGFS_obsGFS_RPlotting.conf</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">#</span>
<span class="c1">#   PRECONDITION: REQUIRES INSTALLATION OF R on user system</span>
<span class="c1">#</span>

<span class="c1">#</span>
<span class="c1">#  CONFIGURATION</span>
<span class="c1">#</span>
<span class="o">[</span>config<span class="o">]</span>

<span class="c1"># Loop over each process in the process list (set in PROCESS_LIST) for all times in the time window of</span>
<span class="c1"># interest.</span>
<span class="nv">LOOP_ORDER</span> <span class="o">=</span> processes
<span class="c1"># Configuration files</span>
<span class="nv">TC_PAIRS_CONFIG_FILE</span> <span class="o">=</span> <span class="o">{</span>PARM_BASE<span class="o">}</span>/use_cases/model_applications/tc_and_extra_tc/TCPairsETCConfig

<span class="nv">PROCESS_LIST</span> <span class="o">=</span> TCPairs, TCMPRPlotter


<span class="c1"># The init time begin and end times, increment</span>
<span class="nv">LOOP_BY</span> <span class="o">=</span> INIT
<span class="nv">INIT_TIME_FMT</span> <span class="o">=</span> %Y%m%d
<span class="nv">INIT_BEG</span> <span class="o">=</span> <span class="m">20141214</span>
<span class="nv">INIT_END</span> <span class="o">=</span> <span class="m">20141214</span>

<span class="c1"># This is the step-size. Increment in seconds from the begin time to the end</span>
<span class="c1"># time</span>
<span class="nv">INIT_INCREMENT</span> <span class="o">=</span> <span class="m">21600</span> <span class="p">;;</span> <span class="nb">set</span> to every <span class="m">6</span> <span class="nv">hours</span><span class="o">=</span><span class="m">21600</span> seconds

<span class="c1"># A list of times to include, in format YYYYMMDD_hh</span>
<span class="nv">INIT_INCLUDE</span> <span class="o">=</span>

<span class="c1"># A list of times to exclude, in format YYYYMMDD_hh</span>
<span class="nv">INIT_EXCLUDE</span> <span class="o">=</span>

<span class="c1">#</span>
<span class="c1"># Specify model valid time window in format YYYYMM[DD[_hh]].  Only tracks</span>
<span class="c1"># that fall within the valid time window will</span>
<span class="c1"># be used.</span>
<span class="c1">#</span>
<span class="nv">VALID_BEG</span> <span class="o">=</span>
<span class="nv">VALID_END</span> <span class="o">=</span>

<span class="c1">##</span>
<span class="c1">#</span>
<span class="c1"># MET TC-Pairs</span>
<span class="c1">#</span>
<span class="c1">##</span>

<span class="c1">#</span>
<span class="c1"># Run MET tc_pairs by indicating the top-level directories for the A-deck</span>
<span class="c1"># and B-deck files. Set to &#39;yes&#39; to run using top-level directories, &#39;no&#39;</span>
<span class="c1"># if you want to run tc_pairs on files paired by the wrapper.</span>
<span class="nv">TC_PAIRS_READ_ALL_FILES</span> <span class="o">=</span> no

<span class="c1"># List of models to be used (white space or comma separated) eg: DSHP, LGEM, HWRF</span>
<span class="c1"># If no models are listed, then process all models in the input file(s).</span>
<span class="nv">MODEL</span> <span class="o">=</span>

<span class="c1"># List of storm ids of interest (space or comma separated) e.g.: AL112012, AL122012</span>
<span class="c1"># If no storm ids are listed, then process all storm ids in the input file(s).</span>
<span class="nv">TC_PAIRS_STORM_ID</span> <span class="o">=</span>

<span class="c1"># Basins (of origin/region).  Indicate with space or comma-separated list of regions, eg. AL: for North Atlantic,</span>
<span class="c1"># WP: Western North Pacific, CP: Central North Pacific, SH: Southern Hemisphere, IO: North Indian Ocean, LS: Southern</span>
<span class="c1"># Hemisphere</span>
<span class="nv">TC_PAIRS_BASIN</span> <span class="o">=</span>

<span class="c1"># Cyclone, a space or comma-separated list of cyclone numbers. If left empty, all cyclones will be used.</span>
<span class="nv">TC_PAIRS_CYCLONE</span> <span class="o">=</span>

<span class="c1"># Storm name, a space or comma-separated list of storm names to evaluate.  If left empty, all storms will be used.</span>
<span class="nv">TC_PAIRS_STORM_NAME</span> <span class="o">=</span>

<span class="c1"># DLAND file, the full path of the file that contains the gridded representation of the</span>
<span class="c1"># minimum distance from land.</span>
<span class="nv">TC_PAIRS_DLAND_FILE</span> <span class="o">=</span> <span class="o">{</span>MET_INSTALL_DIR<span class="o">}</span>/share/met/tc_data/dland_global_tenth_degree.nc

<span class="nv">TC_PAIRS_REFORMAT_DECK</span> <span class="o">=</span> yes
<span class="nv">TC_PAIRS_REFORMAT_TYPE</span> <span class="o">=</span> SBU

<span class="nv">TC_PAIRS_MISSING_VAL_TO_REPLACE</span> <span class="o">=</span> -99
<span class="nv">TC_PAIRS_MISSING_VAL</span> <span class="o">=</span> -9999


<span class="c1">#  Plot_TCMPR options, if left unset, default values that are</span>
<span class="c1">#  pre-defined in the R utility (packaged with MET) will be used.</span>
<span class="nv">TCMPR_PLOTTER_CONFIG_FILE</span> <span class="o">=</span> <span class="o">{</span>METPLUS_BASE<span class="o">}</span>/parm/use_cases/model_applications/tc_and_extra_tc/TCMPRPlotterConfig_customize
<span class="nv">TCMPR_PLOTTER_PREFIX</span> <span class="o">=</span>
<span class="nv">TCMPR_PLOTTER_TITLE</span> <span class="o">=</span>
<span class="nv">TCMPR_PLOTTER_SUBTITLE</span> <span class="o">=</span> Your subtitle goes here
<span class="nv">TCMPR_PLOTTER_XLAB</span> <span class="o">=</span>
<span class="nv">TCMPR_PLOTTER_YLAB</span> <span class="o">=</span> Your y-label goes here
<span class="nv">TCMPR_PLOTTER_XLIM</span> <span class="o">=</span>
<span class="nv">TCMPR_PLOTTER_YLIM</span> <span class="o">=</span>
<span class="nv">TCMPR_PLOTTER_FILTER</span> <span class="o">=</span>
<span class="c1"># the tcst data file to be used instead of running the MET tc_stat tool.</span>
<span class="nv">TCMPR_PLOTTER_FILTERED_TCST_DATA_FILE</span> <span class="o">=</span>
<span class="c1"># Comma separated, no whitespace.  Default is TK_ERR (track error) unless</span>
<span class="c1"># otherwise indicated.</span>
<span class="nv">TCMPR_PLOTTER_DEP_VARS</span> <span class="o">=</span>AMSLP-BMSLP, AMAX_WIND-BMAX_WIND, TK_ERR
<span class="nv">TCMPR_PLOTTER_SCATTER_X</span> <span class="o">=</span>
<span class="nv">TCMPR_PLOTTER_SCATTER_Y</span> <span class="o">=</span>
<span class="nv">TCMPR_PLOTTER_SKILL_REF</span> <span class="o">=</span>
<span class="nv">TCMPR_PLOTTER_SERIES</span> <span class="o">=</span>
<span class="nv">TCMPR_PLOTTER_SERIES_CI</span> <span class="o">=</span>
<span class="nv">TCMPR_PLOTTER_LEGEND</span> <span class="o">=</span> Your legend text goes here...
<span class="nv">TCMPR_PLOTTER_LEAD</span> <span class="o">=</span>
<span class="c1"># Mean and median plots. These override the plot_tcmpr.R default of box plot.</span>
<span class="c1"># If box plot is desired, this needs to be explicitly indicated.</span>
<span class="nv">TCMPR_PLOTTER_PLOT_TYPES</span> <span class="o">=</span> MEAN,MEDIAN,BOXPLOT
<span class="nv">TCMPR_PLOTTER_RP_DIFF</span> <span class="o">=</span>
<span class="nv">TCMPR_PLOTTER_DEMO_YR</span> <span class="o">=</span>
<span class="nv">TCMPR_PLOTTER_HFIP_BASELINE</span> <span class="o">=</span>
<span class="nv">TCMPR_PLOTTER_FOOTNOTE_FLAG</span> <span class="o">=</span>
<span class="nv">TCMPR_PLOTTER_PLOT_CONFIG_OPTS</span> <span class="o">=</span>
<span class="nv">TCMPR_PLOTTER_SAVE_DATA</span> <span class="o">=</span>

<span class="c1">#  TCMPR FLAGS no == (don&#39;t set flag), yes == (set flag)</span>
<span class="nv">TCMPR_PLOTTER_NO_EE</span> <span class="o">=</span> no
<span class="nv">TCMPR_PLOTTER_NO_LOG</span> <span class="o">=</span> no
<span class="nv">TCMPR_PLOTTER_SAVE</span> <span class="o">=</span> no


<span class="c1"># OVERWRITE OPTIONS</span>
<span class="c1"># Don&#39;t overwrite filter files if they already exist.</span>
<span class="c1"># Set to no if you do NOT want to override existing files</span>
<span class="c1"># Set to yes if you do want to override existing files</span>

<span class="c1"># overwrite modified track data (non-ATCF to ATCF format)</span>
<span class="nv">TC_PAIRS_SKIP_IF_REFORMAT_EXISTS</span> <span class="o">=</span> yes

<span class="c1"># overwrite tc_pairs output</span>
<span class="nv">TC_PAIRS_SKIP_IF_OUTPUT_EXISTS</span> <span class="o">=</span> yes

<span class="c1">#  FILENAME TEMPLATES</span>
<span class="c1">#</span>
<span class="o">[</span>filename_templates<span class="o">]</span>
<span class="c1"># Define the format of the filenames</span>
<span class="nv">FCST_EXTRACT_TILES_INPUT_TEMPLATE</span> <span class="o">=</span> gfs_4_<span class="o">{</span>init?fmt<span class="o">=</span>%Y%m%d<span class="o">}</span>_<span class="o">{</span>init?fmt<span class="o">=</span>%H<span class="o">}</span>00_<span class="o">{</span>lead?fmt<span class="o">=</span>%HHH<span class="o">}</span>.grb2
<span class="nv">OBS_EXTRACT_TILES_INPUT_TEMPLATE</span> <span class="o">=</span> gfs_4_<span class="o">{</span>valid?fmt<span class="o">=</span>%Y%m%d<span class="o">}</span>_<span class="o">{</span>valid?fmt<span class="o">=</span>%H<span class="o">}</span>00_000.grb2

<span class="nv">TC_PAIRS_ADECK_TEMPLATE</span> <span class="o">=</span> <span class="o">{</span>date?fmt<span class="o">=</span>%Y%m<span class="o">}</span>/a<span class="o">{</span>basin?fmt<span class="o">=</span>%s<span class="o">}</span>q<span class="o">{</span>date?fmt<span class="o">=</span>%Y%m<span class="o">}</span>*.gfso.<span class="o">{</span>cyclone?fmt<span class="o">=</span>%s<span class="o">}</span>
<span class="nv">TC_PAIRS_BDECK_TEMPLATE</span> <span class="o">=</span> <span class="o">{</span>date?fmt<span class="o">=</span>%Y%m<span class="o">}</span>/b<span class="o">{</span>basin?fmt<span class="o">=</span>%s<span class="o">}</span>q<span class="o">{</span>date?fmt<span class="o">=</span>%Y%m<span class="o">}</span>*.gfso.<span class="o">{</span>cyclone?fmt<span class="o">=</span>%s<span class="o">}</span>
<span class="nv">TC_PAIRS_OUTPUT_TEMPLATE</span> <span class="o">=</span> <span class="o">{</span>date?fmt<span class="o">=</span>%Y%m<span class="o">}</span>/<span class="o">{</span>basin?fmt<span class="o">=</span>%s<span class="o">}</span>q<span class="o">{</span>date?fmt<span class="o">=</span>%Y%m%d%H<span class="o">}</span>.gfso.<span class="o">{</span>cyclone?fmt<span class="o">=</span>%s<span class="o">}</span>

<span class="c1">#</span>
<span class="c1">#  DIRECTORIES</span>
<span class="c1">#</span>
<span class="o">[</span>dir<span class="o">]</span>

<span class="c1"># track data, set to your data source</span>
<span class="nv">TC_PAIRS_ADECK_INPUT_DIR</span> <span class="o">=</span> <span class="o">{</span>INPUT_BASE<span class="o">}</span>/model_applications/medium_range/track_data
<span class="nv">TC_PAIRS_BDECK_INPUT_DIR</span> <span class="o">=</span> <span class="o">{</span>TC_PAIRS_ADECK_INPUT_DIR<span class="o">}</span>
<span class="nv">TC_PAIRS_REFORMAT_DIR</span> <span class="o">=</span> <span class="o">{</span>OUTPUT_BASE<span class="o">}</span>/track_data_atcf
<span class="nv">TC_PAIRS_OUTPUT_DIR</span> <span class="o">=</span> <span class="o">{</span>OUTPUT_BASE<span class="o">}</span>/tc_pairs

<span class="nv">TCMPR_PLOTTER_TCMPR_DATA_DIR</span> <span class="o">=</span> <span class="o">{</span>TC_PAIRS_OUTPUT_DIR<span class="o">}</span>
<span class="nv">TCMPR_PLOTTER_PLOT_OUTPUT_DIR</span> <span class="o">=</span> <span class="o">{</span>OUTPUT_BASE<span class="o">}</span>/tcmpr_plots
</pre></div>
</div>
</div>
<div class="section" id="met-configuration">
<h2>MET Configuration<a class="headerlink" href="#met-configuration" title="Permalink to this headline">¶</a></h2>
<p>METplus sets environment variables based on the values in the METplus configuration file.
These variables are referenced in the MET configuration file. <strong>YOU SHOULD NOT SET ANY OF THESE ENVIRONMENT VARIABLES YOURSELF! THEY WILL BE OVERWRITTEN BY METPLUS WHEN IT CALLS THE MET TOOLS!</strong> If there is a setting in the MET configuration file that is not controlled by an environment variable, you can add additional environment variables to be set only within the METplus environment using the [user_env_vars] section of the METplus configuration files. See the ‘User Defined Config’ section on the ‘System Configuration’ page of the METplus User’s Guide for more information.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>////////////////////////////////////////////////////////////////////////////////
//
// Default TCPairs configuration file
//
////////////////////////////////////////////////////////////////////////////////

//
// ATCF file format reference:
//   http://www.nrlmry.navy.mil/atcf_web/docs/database/new/abrdeck.html
//

//
// Models
//
<span class="nv">model</span> <span class="o">=</span> <span class="si">${</span><span class="nv">MODEL</span><span class="si">}</span><span class="p">;</span>

//
// Description
//
<span class="nv">desc</span> <span class="o">=</span> <span class="s2">&quot;NA&quot;</span><span class="p">;</span>

//
// Storm identifiers
//
<span class="nv">storm_id</span> <span class="o">=</span> <span class="si">${</span><span class="nv">STORM_ID</span><span class="si">}</span><span class="p">;</span>

//
// Basins
//
<span class="nv">basin</span> <span class="o">=</span> <span class="si">${</span><span class="nv">BASIN</span><span class="si">}</span><span class="p">;</span>

//
// Cyclone numbers
//
<span class="nv">cyclone</span> <span class="o">=</span> <span class="si">${</span><span class="nv">CYCLONE</span><span class="si">}</span><span class="p">;</span>

//
// Storm names
//
<span class="nv">storm_name</span> <span class="o">=</span> <span class="si">${</span><span class="nv">STORM_NAME</span><span class="si">}</span><span class="p">;</span>

//
// Model initialization <span class="nb">time</span> windows to include or exclude
//
<span class="nv">init_beg</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">INIT_BEG</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="nv">init_end</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">INIT_END</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="nv">init_inc</span> <span class="o">=</span> <span class="si">${</span><span class="nv">INIT_INCLUDE</span><span class="si">}</span><span class="p">;</span>
<span class="nv">init_exc</span> <span class="o">=</span> <span class="si">${</span><span class="nv">INIT_EXCLUDE</span><span class="si">}</span><span class="p">;</span>
//
// Valid model <span class="nb">time</span> window
//
<span class="nv">valid_beg</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">VALID_BEG</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="nv">valid_end</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">VALID_END</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span>

//
// Model initialization hours
//
<span class="nv">init_hour</span> <span class="o">=</span> <span class="o">[]</span><span class="p">;</span>

//
// Required lead <span class="nb">time</span> in hours
//
<span class="nv">lead_req</span> <span class="o">=</span> <span class="o">[]</span><span class="p">;</span>

//
// lat/lon polylines defining masking regions
//
<span class="nv">init_mask</span>  <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="nv">valid_mask</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>

//
// Specify <span class="k">if</span> the code should check <span class="k">for</span> duplicate ATCF lines
//
<span class="nv">check_dup</span> <span class="o">=</span> FALSE<span class="p">;</span>

//
// Specify special processing to be performed <span class="k">for</span> interpolated models.
// Set to NONE, FILL, or REPLACE.
//
<span class="nv">interp12</span> <span class="o">=</span> REPLACE<span class="p">;</span>

//
// Specify how consensus forecasts should be defined
//
<span class="nv">consensus</span> <span class="o">=</span> <span class="o">[]</span><span class="p">;</span>

//
// Forecast lag <span class="nb">times</span>
//
<span class="nv">lag_time</span> <span class="o">=</span> <span class="o">[]</span><span class="p">;</span>

//
// CLIPER/SHIFOR baseline forecasts to be derived from the BEST
// and operational <span class="o">(</span>CARQ<span class="o">)</span> tracks.
//
<span class="nv">best_technique</span> <span class="o">=</span> <span class="o">[</span> <span class="s2">&quot;BEST&quot;</span> <span class="o">]</span><span class="p">;</span>
<span class="nv">best_baseline</span>  <span class="o">=</span> <span class="o">[]</span><span class="p">;</span>
<span class="nv">oper_technique</span> <span class="o">=</span> <span class="o">[</span> <span class="s2">&quot;CARQ&quot;</span> <span class="o">]</span><span class="p">;</span>
<span class="nv">oper_baseline</span>  <span class="o">=</span> <span class="o">[]</span><span class="p">;</span>

<span class="nv">anly_track</span> <span class="o">=</span> BDECK<span class="p">;</span>

//
// Specify <span class="k">if</span> only those track points common to both the ADECK and BDECK
// tracks be written out.
//
<span class="nv">match_points</span> <span class="o">=</span> TRUE<span class="p">;</span>

//
// Specify the NetCDF output of the gen_dland tool containing a gridded
// representation of the minimum distance to land.
//
<span class="nv">dland_file</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">DLAND_FILE</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span>

//
// Specify watch/warning information:
//   - Input watch/warning filename
//   - Watch/warning <span class="nb">time</span> offset in seconds
//
<span class="nv">watch_warn</span> <span class="o">=</span> <span class="o">{</span>
   <span class="nv">file_name</span>   <span class="o">=</span> <span class="s2">&quot;MET_BASE/tc_data/wwpts_us.txt&quot;</span><span class="p">;</span>
   <span class="nv">time_offset</span> <span class="o">=</span> -14400<span class="p">;</span>
<span class="o">}</span>

//
// Indicate a version number <span class="k">for</span> the contents of this configuration file.
// The value should generally not be modified.
//
//version <span class="o">=</span> <span class="s2">&quot;V9.0&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>See the following files for more information about the environment variables set in these configuration files.</p>
<p>parm/use_cases/met_tool_wrapper/TCPairs/TCPairs.py</p>
</div>
<div class="section" id="running-metplus">
<h2>Running METplus<a class="headerlink" href="#running-metplus" title="Permalink to this headline">¶</a></h2>
<p><strong>NOTE</strong> - In order for this example to run successfully, ensure that your output folder ({OUTPUT_BASE}/tc_pairs/201412) is
empty. If there are any files in this directory, the program will fail out and not produce the output for {OUTPUT_BASE}/tcmpr_plots.</p>
<p>This use case can be run two ways:</p>
<ol class="arabic">
<li><p>Passing in Plotter_fcstGFS_obsGFS_RPlotting.conf then a user-specific system configuration file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>master_metplus.py -c /path/to/METplus/parm/use_cases/model_applications/tc_and_extra_tc/Plotter_fcstGFS_obsGFS_RPlotting.conf -c /path/to/user_system.conf
</pre></div>
</div>
</li>
<li><p>Modifying the configurations in parm/metplus_config, then passing in Plotter_fcstGFS_obsGFS_RPlotting.conf:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>master_metplus.py -c /path/to/METplus/parm/use_cases/model_applications/tc_and_extra_tc/Plotter_fcstGFS_obsGFS_RPlotting.conf
</pre></div>
</div>
</li>
</ol>
<p>The former method is recommended. Whether you add them to a user-specific configuration file or modify the metplus_config files, the following variables must be set correctly:</p>
<ul class="simple">
<li><p><strong>INPUT_BASE</strong> - Path to directory where sample data tarballs are unpacked (See Datasets section to obtain tarballs). This is not required to run METplus, but it is required to run the examples in parm/use_cases</p></li>
<li><p><strong>OUTPUT_BASE</strong> - Path where METplus output will be written. This must be in a location where you have write permissions</p></li>
<li><p><strong>MET_INSTALL_DIR</strong> - Path to location where MET is installed locally</p></li>
</ul>
<p>Example User Configuration File:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>dir<span class="o">]</span>
<span class="nv">INPUT_BASE</span> <span class="o">=</span> /path/to/sample/input/data
<span class="nv">OUTPUT_BASE</span> <span class="o">=</span> /path/to/output/dir
<span class="nv">MET_INSTALL_DIR</span> <span class="o">=</span> /path/to/met-X.Y
</pre></div>
</div>
<p><strong>NOTE:</strong> All of these items must be found under the [dir] section.</p>
</div>
<div class="section" id="expected-output">
<h2>Expected Output<a class="headerlink" href="#expected-output" title="Permalink to this headline">¶</a></h2>
<p>A successful run will output the following both to the screen and to the logfile:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>INFO: METplus has successfully finished running.
</pre></div>
</div>
<p>Refer to the value set for <strong>OUTPUT_BASE</strong> to find where the output data was generated.
TCPairs output for this use case will be found in tc_pairs/201412 (relative to <strong>OUTPUT_BASE</strong>)
and will contain files with the following format:</p>
<ul class="simple">
<li><p>mlq2014121400.gfso.&lt;<em>nnnn</em>&gt;.tcst</p></li>
</ul>
<p>where <em>nnnn</em> is a zero-padded 4-digit number</p>
<p>Plots (in .png format) will be found in tcmpr_plots (relative to <strong>OUTPUT_BASE</strong>):
* AMAX_WIND-BMAX_WIND_boxplot.png
* AMAX_WIND-BMAX_WIND_boxplot.png
* AMAX_WIND-BMAX_WIND_boxplot.png
* AMSLP-BMSLP_boxplot.png
* AMSLP-BMSLP_boxplot.png
* AMSLP-BMSLP_boxplot.png
* TK_ERR_boxplot.png
* TK_ERR_mean.png
* TK_ERR_median.png</p>
</div>
<div class="section" id="keywords">
<h2>Keywords<a class="headerlink" href="#keywords" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference external" href="https://dtcenter.github.io/METplus/search.html?q=TCPairsUseCase&amp;check_keywords=yes&amp;area=default">TCPairsToolUseCase</a>,
<a class="reference external" href="https://dtcenter.github.io/METplus/search.html?q=TCandExtraTCAppUseCase&amp;check_keywords=yes&amp;area=default">TCandExtraTCAppUseCase</a>,
<a class="reference external" href="https://dtcenter.github.io/METplus/search.html?q=FeatureRelativeUseCase&amp;check_keywords=yes&amp;area=default">FeatureRelativeUseCase</a>,
<a class="reference external" href="https://dtcenter.github.io/METplus/search.html?q=MediumRangeAppUseCase&amp;check_keywords=yes&amp;area=default">MediumRangeAppUseCase</a>,
<a class="reference external" href="https://dtcenter.github.io/METplus/search.html?q=SBUOrgUseCase&amp;check_keywords=yes&amp;area=default">SBUOrgUseCase</a>,
<a class="reference external" href="https://dtcenter.github.io/METplus/search.html?q=DTCOrgUseCase&amp;check_keywords=yes&amp;area=default">DTCOrgUseCase</a></p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  0.000 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-generated-model-applications-tc-and-extra-tc-plotter-fcstgfs-obsgfs-rplotting-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../../_downloads/9b2fde0030ff45293748de875bca0d75/Plotter_fcstGFS_obsGFS_RPlotting.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">Plotter_fcstGFS_obsGFS_RPlotting.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../../_downloads/7c8e073de7072c99dfc96aab0de8c281/Plotter_fcstGFS_obsGFS_RPlotting.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">Plotter_fcstGFS_obsGFS_RPlotting.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../../Users_Guide/references.html" class="btn btn-neutral float-right" title="6. References" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="TCRMW_fcstGFS_fcstOnly_gonzalo.html" class="btn btn-neutral" title="5.2.8.2. TCRMW: Hurricane Gonzalo" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, UCAR/NCAR, NOAA, CSU/CIRA, and CU/CIRES.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
 
<script>var version_json_loc = "../../../../versions.json";</script>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script src="../../../_static/pop_ver.js"></script>
    

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>